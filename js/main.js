$(document).ready(function(){topNav();var a=window.location.pathname;switch(a){case"/":homePage();break;case"/user":$("body").on("click",".login-button",function(b){b.preventDefault();login()});break;default:servicePages();newsWire();servicePodsCarousel()}$("body").on("click",".faux-button",function(c){c.preventDefault();var b=thisdata=$(this).data("function");window[b]()});$("body").on("click",".close-out-nav",function(b){$(this).parent().toggle("slow");closeOverlay()});$("body").on("click",".service-highlights-button",function(f){var d=$(this).attr("id");var c=d.split("-");var g=c[1];var b="servhighcopy-"+g;$().fadeIn("slow")});resizeTriangle();$(window).resize(function(){resizeTriangle()});$(function(){if(!("placeholder" in document.createElement("input"))){$("[placeholder]").focus(function(){if(this.value==$(this).attr("placeholder")){this.value=""}}).blur(function(){if(this.value===""){this.value=$(this).addClass("empty").attr("placeholder")}}).blur()}})});function homePage(){$(".news-wire ul li p a").mouseover(function(){$(".news-wire ul li p a").css("color","#e5e7e9")});$(".news-wire ul li p a").mouseout(function(){$(".news-wire ul li p a").css("color","#fff")});$("body").on("mouseenter",".service",function(){$(this).stop().animate({opacity:1},300)});$("body").on("mouseleave",".service",function(){$(this).stop().animate({opacity:0.5},300)});var b="";var a="";$(function(){timerSpeed=5000;var d="#0095c3";queueNewCat(timerSpeed,d);var c=setInterval(function(){ticker(timerSpeed)},timerSpeed);$(".cate").click(function(){clearInterval(c);if(window.console){console.log("note:"+timerSpeed)}$("#news-wrap").find("*").stop(true,true);var f=$(this).attr("id").replace("-tab","");var e=$(this).position().left-743;switch(f){case"investments":d="#f99d31";break;case"acquisitions":d="#61116a";break;case"corporate-services":d="#6cb33f";break;default:d="#0095c3";break}$(".current-slider").animate({backgroundPositionX:e+"px",backgroundColor:"#"+d},500);$(".news-btm").animate({backgroundColor:"#"+d,width:"100%"},500);$(".current-cat").children("ul").css({top:"0",left:"-743px"});$(".current-cat").removeClass("current-cat");$(".current-news").removeClass("current-news");$("#"+f).addClass("current-cat");$(".current-cat").children("ul").children("li:first").addClass("current-news");queueNewCat(timerSpeed,d);c=setInterval(function(){ticker(timerSpeed)},timerSpeed)})});$(".nav-home").on("mouseenter",function(){$(this).children(".home-title").stop().animate({left:350},330);$(this).children("img").animate({width:360,margin:-5},200)});$(".nav-home").on("mouseleave",function(){var c=$(this).children(".home-title").html();var d=c.replace(" ","");if(d!=b){$(this).children(".home-title").animate({left:120},350);$(this).children("img").animate({width:350,margin:0},200)}});$(".nav-home").on("click",function(){var d=$(this).children(".home-title").html();var e=d.replace(" ","");var c=$("#expanded");if(e!=b){$("#"+a).children(".home-title").animate({left:120},350);$("#"+a).children("img").animate({width:350,margin:0},800);a=$(this).attr("id");b=e;$.ajax({url:"?expanded="+b,type:"HTML"}).done(function(f){c.animate({opacity:0.1},"200",function(){c.data("oHeight",c.height()).html(f).css("height","auto").data("nHeight",c.height()).height(c.data("oHeight")).show().animate({opacity:1,height:c.data("nHeight")},{queue:false,duration:800});$(".close-out").click(function(){$(".home-title:contains("+e+")").animate({left:120},350);a="";b="";closeEle(c)})})}).fail(function(f,g){podHtml="<p>Currently Unavailable: "+g+"</p>"})}else{a="";b="";closeEle(c)}})}function servicePages(){$(".ip-nav").click(function(){$(this).siblings().removeClass("hot");$(this).addClass("hot");tb=$(this).attr("id").replace("-tab","");of=$("#"+tb).offset().top;navof=$(this).position().top;$("#inpage-tab-nav").animate({top:(of-navof-143)/143},"slow");$(this).animate({marginRight:"6",backgroundColor:"#0095c3"},"slow");$(this).siblings().animate({marginRight:"72",backgroundColor:"#999"},"slow");$("html,body").animate({scrollTop:(of-navof-62)},"slow")});$(".ip-nav").hover(function(){if(!$(this).hasClass("hot")){$(this).css("background-color","#888")}},function(){if(!$(this).hasClass("hot")){$(this).css("background-color","#999")}});$(window).scroll(function(){serviceScroll("none")});$(".cars-part").click(function(){var g=$(this).attr("id");var e=g.split("-");var d=e[1];var c="serv-head-"+d;var h=e[2];var f=$("#cars-sub-"+d);serviceScroll(c);if(!$(this).hasClass("selected")){var b="";var a="";$("#cars-"+d).trigger("configuration",{auto:false});$(".selected").children(".serv-title").animate({left:0},350);$(this).parent().children(".cars-part").removeClass("selected");$(this).addClass("selected");$(this).animate({opacity:1});$(this).parent().children(".cars-part:not(.selected)").animate({opacity:0.5});a=$("#cars-sub-"+d+"-"+h).html();if(f.css("display")=="none"){f.html(a);f.slideDown()}else{f.animate({opacity:0.1},400,function(){f.html(a);f.animate({opacity:1},400)})}}else{$(this).removeClass("selected");$(this).children(".serv-title").animate({left:0},350);f.slideUp();$("#cars-"+d).trigger("configuration",{auto:true});$(this).siblings().animate({opacity:1});f.html("")}});$(".cars-part").hover(function(){$(this).children(".serv-title, .prop-title").stop().animate({left:175},330);$(this).children("img").animate({width:180,margin:-5},200)},function(){if(!$(this).hasClass("selected")){$(this).children(".serv-title, .prop-title").animate({left:0},350)}$(this).children("img").animate({width:175,margin:0},200)});$("body").on("click",".cars-sub .close-out",function(){var a=$(this).parent().attr("id").replace("-sub","");$("#"+a).trigger("configuration",{auto:true});$("#"+a).children("li.cars-part").removeClass("selected").animate({opacity:1}).children(".serv-title, .prop-title").animate({left:0},350);$(this).parent().slideUp("800",function(){var b=$(this).siblings(".serv-section").attr("id");$(this).html("");serviceScroll(b)})})}function servicePodsCarousel(){$("#cars-mid").carouFredSel({items:4,direction:"left",circular:true,infinite:true,scroll:{items:1,easing:"linear",duration:500,pauseOnHover:true}});$("#cars-bot").carouFredSel({items:4,direction:"left",circular:true,infinite:true,scroll:{items:1,easing:"linear",duration:500,pauseOnHover:true}})}function serviceScroll(a){if(a==="none"){a="";var b=($(window).height()/3)*2;$(".serv-section").each(function(){if($(window).scrollTop()>$(this).offset().top-b){a=$(this).attr("id")}})}if(a!==""&&!$("#inpage-tab-nav").is(":animated")){of=$("#"+a).offset().top;curSectTab="#"+a+"-tab";curNavof=$(curSectTab).offset().top;if(of!=(curNavof+54)){$(curSectTab).siblings().removeClass("hot");$(curSectTab).addClass("hot");$(curSectTab).animate({marginRight:"6",backgroundColor:"#0095c3"},"slow");navof=$(curSectTab).position().top;$("#inpage-tab-nav").animate({top:(of-navof-104)},"slow");$(curSectTab).siblings().animate({marginRight:"72",backgroundColor:"#999"},"slow")}}}function topNav(){$(".nav-main ul.lvl-0 li.lvl-0").on("mouseenter",function(){var b=$(this).position().left;var a=(b-200)*-1;$("#nav-slider").animate({right:a},230)});$("#header").on("mouseleave",function(){$("#nav-slider").animate({right:-400},230)});$("body").on("click",".nav-contact-us",function(a){a.preventDefault();openOverlay(0);$("#overlay").on("click",function(){$("#pod-contact-us").fadeOut("slow");closeOverlay()});if($("#pods-user-client-portal").is(":visible")){$("#pods-user-client-portal").fadeOut("slow")}$("#pod-contact-us").toggle("slow")});$("body").on("click",".nav-client-portal",function(a){a.preventDefault();openOverlay(0);$("#overlay").on("click",function(){$("#pods-user-client-portal").fadeOut("slow");closeOverlay()});if($("#pod-contact-us").is(":visible")){$("#pod-contact-us").fadeOut("slow")}$("#pods-user-client-portal").toggle("slow")})}function openOverlay(a){if($("#overlay").length<1){$("body").prepend('<div id="overlay" />').each(function(){if(a||a===0){if(a===0){$("#overlay").css({opacity:0})}$("#overlay").fadeIn("slow").animate({backgroundColor:"rgba(0,0,0,"+a+")"},500)}else{$("#overlay").fadeIn("slow")}})}}function closeOverlay(){if($("#overlay").length){$("#overlay").fadeOut("400",function(){$("#overlay").remove()})}}function addContactData(){$.ajax({url:"?id=0&table=contact&action=do_add",type:"POST",data:$("form").serialize()}).done(function(a){}).fail(function(a,b){$("#pod-contact-us").html("<p>There was a problem sending your information: "+b+"</p>")})}function resizeTriangle(){var b=$(window).width();var c=264;var a=890+50;if(b<(c+a)){c=(b-a);if(c<0){c=0}}$(".blue-slice").css("width",c)}function closeEle(a){$(a).slideUp(800).animate({opacity:0,height:0},{queue:false,duration:800});$(a).html("")}function newsWire(){timerSpeed=5000;var a=function(){setTimeout(function(){var b=(parseInt($(".news-ticker li:first").outerHeight())*-1);$(".news-ticker li:first").animate({marginTop:b+"px"},800,function(){$(this).detach().appendTo("ul.news-ticker").removeAttr("style")});a()},timerSpeed)};a()}function fourPodsCarousel(){var d="";var b=0;var a=175;var c=0;$("ul.four-img-wrap").each(function(){d=$(this);b=$("li",d).length;if(b>4){a=(parseInt($("li.cars-part:first",d).outerWidth()));c=(b*a)+(10*b);$(d).css("width",c);if(window.console){console.log("note:"+b+" * "+a+" = "+c)}a=a*-1;timerSpeed=5000;var e=function(){setTimeout(function(){$("li.cars-part:first",d).animate({marginLeft:a+"px"},800,function(){$(this).detach().appendTo(d).removeAttr("style")});e()},timerSpeed)};e()}})}function ticker(a){if($("li.current-news").next("li").length===0){var b=$(".current-cat");b.nextOrFirst(".news-wire").addClass("current-cat");b.children("ul").fadeOut("500",function(){b.removeClass("current-cat");b.children("ul").children("li.current-news").removeClass("current-news");$(".current-cat ul li:first").addClass("current-news");$(".current-cat").children("ul").fadeIn("fast");b.children("ul").css({top:"0",left:"-743px"});var c=$(".current-cat").attr("id");switch(c){case"investments":bgColor="#f99d31";break;case"acquisitions":bgColor="#61116a";break;case"corporate-services":bgColor="#6cb33f";break;default:bgColor="#0095c3";$(".current-slider").animate({backgroundPositionX:"+=175px",backgroundColor:"#0095c3"},250,function(){$(".current-slider").css("background-position-x","-917px");$(".current-slider").animate({backgroundPositionX:"-743px"},250)});break}queueNewCat(a,bgColor);$(".current-slider").animate({backgroundPositionX:"+=175px",backgroundColor:bgColor},500)})}else{if(window.console){console.log("note: next story")}$("li.current-news").next("li").addClass("current-news");$("li.current-news:first").removeClass("current-news");$(".current-cat ul").animate({top:"-=37px"},500)}}function queueNewCat(b,c){var a=$(".current-cat ul li").length;var a=$(".current-cat").children("ul").children("li").length;if(window.console){console.log("note:"+a)}var d=(b*a)-1000;$(".news-btm").animate({backgroundColor:c,width:"100%"},500);$(".current-cat ul").show().animate({left:"0"},500,function(){$(".news-btm").animate({width:"0"},d,"linear")})}function login(){$.ajax({url:"?login=attempt",type:"POST",data:$("form").serialize()}).done(function(a){if(a=="Success"){$(".login-msg").html("Successfully logged in").fadeIn("slow");location.reload()}else{$(".login-msg").html(a).fadeIn("slow")}}).fail(function(a,b){$(".login-msg").html("Login Failed: "+b).fadeIn("slow")})}jQuery.fn.nextOrFirst=function(a){var b=this.next(a);return(b.length)?b:this.prevAll(a).last()};jQuery.fn.prevOrLast=function(a){var b=this.prev(a);return(b.length)?b:this.nextAll(a).last()};
